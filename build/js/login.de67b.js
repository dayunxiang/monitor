webpackJsonp([2],{1477:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e,n){var i=n.value;n.value=function(){return i.apply(this,arguments)}}function u(t){return{userinfo:t.userinfo}}function h(t){return{userInfoActions:(0,p.bindActionCreators)(g,t)}}Object.defineProperty(e,"__esModule",{value:!0});var l,c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),f=n(0),d=i(f),y=n(158),p=n(133),v=n(246),m=n(1513),b=i(m),w=n(1512),g=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(w),x=n(1482),_=n(1522),O=n(722);n(1525);var P=n(1514),E=i(P),k=n(1515),B=i(k),j=n(1518),A=i(j),T=n(1517),S=i(T),I=n(1516),C=i(I),R=(l=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.state={gg:!1,showform:!0,crashNum:1},i.keys={},i}return s(e,t),c(e,[{key:"render",value:function(){return d.default.createElement("div",{ref:"loginCont",className:"vk-login-cont"},d.default.createElement("canvas",{id:"canvas",ref:"canvas",width:"1300",height:"700"}),d.default.createElement(b.default,{ref:"LoginForm",show:this.state.showform,login:this.login.bind(this)}))}},{key:"login",value:function(t,e){var n=this;(0,_.postLogin)({username:t,password:e}).then(function(t){return t.json()}).then(function(t){n.refs.LoginForm.setLoading(!1),0===t.code&&(n.props.userInfoActions.loginSuccess(t.data),window.sessionStorage.setItem("userinfo",JSON.stringify(t.data)),n.jumpToHome())}).catch(function(t){n.refs.LoginForm&&n.refs.LoginForm.setLoading(!1)}),this.jumpToHome(),this.setState({showform:!0})}},{key:"componentDidMount",value:function(){var t=this,e=this.refs.loginCont,n=this.refs.canvas,i=window.innerHeight,r=window.innerWidth,o=i>500?i:500;e.style.height=o+"px",n.height=o,n.width=r,this.onresize=function(){var i=window.innerHeight,r=window.innerWidth,o=i>500?i:500;e.style.height=o+"px",n.height=o,n.width=r,t.restartGame()},window.addEventListener("resize",this.onresize),this.startGame()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onresize),window.removeEventListener("keydown",this.gameKeydown),window.removeEventListener("keydown",this.gameKeyup),this.stopAnimation(),this.modal&&this.modal.destroy()}},{key:"jumpToHome",value:function(){v.hashHistory.push("/main")}},{key:"updateUserinfo",value:function(){}},{key:"startGame",value:function(){var t=this.refs.canvas,e=(t.getContext("2d"),[]),n=new E.default(t.width/2,t.height/2);n.vx=3,n.vy=3,n.color="#ff0000";var i=new B.default(.5*t.width,.9*t.height,50,20);i.vx=0;var r=new S.default(t);r.addBall(n),r.setBoard(i);for(var o=0;o<50;o++){var s=t.width/10,a=t.width/20,u=new A.default(o%10*s+10,30*parseInt(o/10),a,20,(0,x.getRandomColor)());e.push(u)}r.addItems(e);var h=new C.default((0,x.getRandomNum)(0,t.width),13,null,null,1,6e3);r.addBuff(h),r.on("itemCrash",this.itemCrash.bind(this)),r.on("goodGame",this.goodGame.bind(this)),this.gameKeydown=this.gameKeydown.bind(this),this.gameKeyup=this.gameKeyup.bind(this),this.enginee=r,window.addEventListener("keydown",this.gameKeydown),window.addEventListener("keyup",this.gameKeyup);r.run()}},{key:"stopAnimation",value:function(){this.enginee.stop()}},{key:"restartGame",value:function(){this.modal&&this.modal.destroy(),this.setState({crashNum:0}),this.stopAnimation();for(var t=this.refs.canvas,e=[],n=0;n<50;n++){var i=t.width/10,r=t.width/20,o=new A.default(n%10*i+10,30*parseInt(n/10),r,20,(0,x.getRandomColor)());e.push(o)}this.enginee.clearItems().addItems(e);var s=new E.default(t.width/2,t.height/2);s.vx=3,s.vy=3,s.color="#ff0000",this.enginee.clearBalls().addBall(s),this.enginee.run()}},{key:"gameKeydown",value:function(t){var e=t.keyCode;this.confirmKey(e,!0)}},{key:"gameKeyup",value:function(t){var e=t.keyCode;this.confirmKey(e,!1)}},{key:"confirmKey",value:function(t,e){switch(t){case 65:this.enginee.getBoard().vx=e?-5:0,this.keys[t]=e;break;case 68:this.enginee.getBoard().vx=e?5:0,this.keys[t]=e}for(var n in this.keys)if(this.keys[n])switch(n){case"65":this.enginee.getBoard().vx=-5;break;case"68":this.enginee.getBoard().vx=5}}},{key:"itemCrash",value:function(){var t=this;this.setState({crashNum:++this.state.crashNum},function(){if(t.state.crashNum>2&&t.setState({showform:!0}),t.state.crashNum%5==0){t.enginee.getBall(0);t.enginee.getBall(0).vx*=1.2,t.enginee.getBall(0).vy*=1.2}})}},{key:"goodGame",value:function(){this.stopAnimation(),this.modal=O.Modal.confirm({title:"失败了",content:"是否继续?.",okText:"确认",cancelText:"取消",onOk:this.confirmOk.bind(this)})}},{key:"confirmOk",value:function(){this.restartGame()}}]),e}(d.default.Component),function(t,e,n,i,r){var o={};return Object.keys(i).forEach(function(t){o[t]=i[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(t,e,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}(l.prototype,"login",[a],Object.getOwnPropertyDescriptor(l.prototype,"login"),l.prototype),l);e.default=(0,y.connect)(u,h)(R)},1482:function(t,e,n){"use strict";function i(t){if(!t)return null;return JSON.parse(JSON.stringify(t))}function r(){return"#"+("00000"+(16777215*Math.random()+.5>>0).toString(16)).slice(-6)}function o(t,e){return Math.random()*(e-t)+t}function s(t,e){return fetch(t,{method:"POST",credentials:"include",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/x-www-form-urlencoded"},body:a(e)})}function a(t){if(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e+=n+"="+t[n]+"&");return e}}Object.defineProperty(e,"__esModule",{value:!0}),e.postData=e.getRandomNum=e.getRandomColor=e.cloneObj=void 0,n(1483),e.cloneObj=i,e.getRandomColor=r,e.getRandomNum=o,e.postData=s},1483:function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return m.iterable&&(e[Symbol.iterator]=function(){return e}),e}function r(t){this.map={},t instanceof r?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function s(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function a(t){var e=new FileReader,n=s(e);return e.readAsArrayBuffer(t),n}function u(t){var e=new FileReader,n=s(e);return e.readAsText(t),n}function h(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}function l(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function c(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(m.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(m.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(m.arrayBuffer&&m.blob&&w(t))this._bodyArrayBuffer=l(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!g(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(h(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(t){var e=t.toUpperCase();return x.indexOf(e)>-1?e:t}function d(t,e){e=e||{};var n=e.body;if(t instanceof d){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new r(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new r(e.headers)),this.method=f(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function y(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}}),e}function p(t){var e=new r;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();e.append(i,r)}}),e}function v(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new r(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var m={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(m.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],w=function(t){return t&&DataView.prototype.isPrototypeOf(t)},g=ArrayBuffer.isView||function(t){return t&&b.indexOf(Object.prototype.toString.call(t))>-1};r.prototype.append=function(t,i){t=e(t),i=n(i);var r=this.map[t];this.map[t]=r?r+","+i:i},r.prototype.delete=function(t){delete this.map[e(t)]},r.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},r.prototype.set=function(t,i){this.map[e(t)]=n(i)},r.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},r.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),i(t)},r.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),i(t)},r.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),i(t)},m.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},c.call(d.prototype),c.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var _=[301,302,303,307,308];v.redirect=function(t,e){if(-1===_.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})},t.Headers=r,t.Request=d,t.Response=v,t.fetch=function(t,e){return new Promise(function(n,i){var r=new d(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:p(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new v(e,t))},o.onerror=function(){i(new TypeError("Network request failed"))},o.ontimeout=function(){i(new TypeError("Network request failed"))},o.open(r.method,r.url,!0),"include"===r.credentials?o.withCredentials=!0:"omit"===r.credentials&&(o.withCredentials=!1),"responseType"in o&&m.blob&&(o.responseType="blob"),r.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send(void 0===r._bodyInit?null:r._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},1512:function(t,e,n){"use strict";function i(t){return{type:s.USERINFO_LOGIN_SUCCESS,data:t}}function r(t){return{type:s.USERINFO_LOGIN_FAILURE,data:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.loginSuccess=i,e.loginFailure=r;var o=n(727),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(o)},1513:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(0),h=function(t){return t&&t.__esModule?t:{default:t}}(u),l=n(722),c=function(t){function e(t,n){i(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return o.state={username:null,passowrd:null,loading:!1},o.containerStyle={width:"400px",position:"absolute",top:"50%",left:"50%",marginLeft:"-200px",marginTop:"-40px"},o}return o(e,t),a(e,[{key:"render",value:function(){var t=this,e=this.props.show;return h.default.createElement("div",{id:"lgForm",style:s({display:e?"block":"none"},this.containerStyle)},h.default.createElement("div",{className:"vk-username-cont"},h.default.createElement(l.Input,{placeholder:"请输入用户名",prefix:h.default.createElement(l.Icon,{type:"user"}),onChange:this.onChangeUserName.bind(this),ref:function(e){return t.userNameInput=e}})),h.default.createElement("div",{className:"vk-password-cont"},h.default.createElement(l.Input,{type:"password",placeholder:"请输入密码",prefix:h.default.createElement(l.Icon,{type:"lock"}),onChange:this.onChangePassword.bind(this),ref:function(e){return t.userPasswordInput=e}})),h.default.createElement("div",{className:"vk-btns-cont"},h.default.createElement(l.Button,{type:"primary",onClick:this.submit.bind(this),loading:this.state.loading},"登 录")))}},{key:"submit",value:function(){this.setLoading(!0),this.props.login(this.state.username,this.state.passowrd)}},{key:"onChangeUserName",value:function(t){this.setState({username:t.target.value})}},{key:"onChangePassword",value:function(t){this.setState({passowrd:t.target.value})}},{key:"setLoading",value:function(t){this.setState({loading:t})}}]),e}(h.default.Component);e.default=c},1514:function(t,e,n){"use strict";function i(t,e,n,i){this.x=t||0,this.y=e||0,this.radius=n||12,this.color=i||"#6699ff",this.scaleX=1,this.scaleY=1}Object.defineProperty(e,"__esModule",{value:!0}),i.prototype.fill=function(t){t.save(),t.translate(this.x,this.y),t.rotate(this.rotation),t.scale(this.scaleX,this.scaleY),t.fillStyle=this.color,t.beginPath(),t.arc(0,0,this.radius,0,360*Math.PI/180,!1),t.closePath(),t.fill(),t.restore()},e.default=i},1515:function(t,e,n){"use strict";function i(t,e,n,i,r){this.x=t||0,this.y=e||0,this.w=n||10,this.h=i||10,this.color=r||"#6699ff",this.scaleX=1,this.scaleY=1}Object.defineProperty(e,"__esModule",{value:!0}),i.prototype.fill=function(t){t.save(),t.translate(this.x,this.y),t.rotate(this.rotation),t.scale(this.scaleX,this.scaleY),t.fillStyle=this.color,t.beginPath(),t.rect(0,0,this.w,this.h),t.closePath(),t.fill(),t.restore()},e.default=i},1516:function(t,e,n){"use strict";function i(t,e,n,i,r,o){this.x=t||0,this.y=e||0,this.radius=n||12,this.color=i||"#00ff00",this.scaleX=1,this.scaleY=1,this.vx=3,this.vy=3,this.type=r||1,this.interval=o||5e3,this.duration=1e4,this.hidden=!0,this.init.call(this)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1482);i.prototype.init=function(){var t=this;window.setInterval(function(){t.hidden&&(t.vx=(0,r.getRandomNum)(-3,3),t.vy=(0,r.getRandomNum)(-3,3),t.hidden=!1)},this.interval)},i.prototype.fill=function(t){this.hidden||(t.save(),t.translate(this.x,this.y),t.rotate(this.rotation),t.scale(this.scaleX,this.scaleY),t.fillStyle=this.color,t.beginPath(),t.arc(0,0,this.radius,0,360*Math.PI/180,!1),t.closePath(),t.fill(),t.beginPath(),t.font="20px 黑体",t.fillStyle="yellow",t.textAlign="center",t.fillText("w",0,this.radius/2),t.restore())},i.prototype.canActive=function(t,e){return!1===this.hidden&&this.x>e.x&&this.x<e.x+e.w&&this.y+this.radius>e.y},i.prototype.active=function(t,e){this.hidden=!0,e.w*=2,e.w>t.width&&(e.w=t.widt),window.setTimeout(function(){e.w/=2},this.duration)},e.default=i},1517:function(t,e,n){"use strict";function i(t){this.cxt=t.getContext("2d"),this.cnv=t,this.board=null,this.balls=[],this.items=[],this.buffs=[],this.func={itemCrash:null,goodGame:null}}Object.defineProperty(e,"__esModule",{value:!0}),i.prototype.setBoard=function(t){return this.board=t,this},i.prototype.addBall=function(t){return this.balls.push(t),this},i.prototype.getBall=function(t){return this.balls[t||0]},i.prototype.clearBalls=function(){return this.balls=[],this},i.prototype.addBuff=function(t){return this.buffs.push(t),this},i.prototype.addItem=function(t){return this.items.push(t),this},i.prototype.addItems=function(t){return this.items=this.items.concat(t),this},i.prototype.clearItems=function(t){return this.items=[],this},i.prototype.removeItem=function(t){if(this.items&&this.items.length)return this.items.splice(this.items.indexOf(t),1),this},i.prototype.play=function(){var t=this;this.balls&&this.balls.length&&this.balls.forEach(function(e){e.y+=e.vy,e.x+=e.vx,e.y>t.cnv.height-e.radius?(e.y=t.cnv.height-e.radius,e.vy=-e.vy,t.func.goodGame&&t.func.goodGame.forEach(function(t){t()})):e.x>t.cnv.width-e.radius?(e.x=t.cnv.width-e.radius,e.vx=-e.vx):e.x<e.radius?(e.x=e.radius,e.vx=-e.vx):e.y<e.radius&&(e.y=e.radius,e.vy=-e.vy),e.x>t.board.x&&e.x<t.board.x+t.board.w&&e.y+e.radius>t.board.y&&(e.y=t.board.y-e.radius,e.vy=-e.vy);for(var n=null,i=0;i<t.items.length;i++){var r=t.items[i];if(e.x+e.radius>r.x&&e.x+e.radius<r.x+r.w&&e.y>r.y&&e.y<r.y+r.h){e.x=r.x-e.radius,e.vx=-e.vx,n=r;break}if(e.x-e.radius<r.x+r.w&&e.x-e.radius>r.x&&e.y>r.y&&e.y<r.y+r.h){e.x=r.x+r.w+e.radius,e.vx=-e.vx,n=r;break}if(e.y+e.radius>r.y&&e.y+e.radius<r.y+r.h&&e.x>r.x&&e.x<r.x+r.w){e.y=r.y-e.radius,e.vy=-e.vy,n=r;break}if(e.y-e.radius<r.y+r.h&&e.y-e.radius>r.y&&e.x>r.x&&e.x<r.x+r.w){e.y=r.y+r.h+e.radius,e.vy=-e.vy,n=r;break}}n&&(t.removeItem(n),t.func.itemCrash&&t.func.itemCrash.forEach(function(t){t()})),e.fill(t.cxt)}),this.board&&(this.board.x+=this.board.vx,this.board.x<0?this.board.x=0:this.board.x+this.board.w>this.cnv.width&&(this.board.x=this.cnv.width-this.board.w),this.board.fill(this.cxt)),this.items&&this.items.length&&this.items.forEach(function(e){e.fill(t.cxt)}),this.buffs&&this.buffs.length&&this.buffs.forEach(function(e){e.x+=e.vx,e.y+=e.vy,e.y>t.cnv.height-e.radius?(e.y=t.cnv.height-e.radius,e.vy=-e.vy):e.x>t.cnv.width-e.radius?(e.x=t.cnv.width-e.radius,e.vx=-e.vx):e.x<e.radius?(e.x=e.radius,e.vx=-e.vx):e.y<e.radius&&(e.y=e.radius,e.vy=-e.vy),e.canActive(t.cnv,t.board)?e.active(t.cnv,t.board):e.fill(t.cxt)})},i.prototype.run=function(){var t=this;!function e(){t.timer=window.requestAnimationFrame(e),t.cxt.clearRect(0,0,t.cnv.width,t.cnv.height),t.play()}()},i.prototype.stop=function(){window.cancelAnimationFrame(this.timer)},i.prototype.getBoard=function(){return this.board},i.prototype.moveBoard=function(t){this.board&&(this.board.x=t)},i.prototype.on=function(t,e){this.func[t]?this.func[t].push(e):this.func[t]=[e]},e.default=i},1518:function(t,e,n){"use strict";function i(t,e,n,i,r){this.x=t||0,this.y=e||0,this.w=n||10,this.h=i||10,this.color=r||"#6699ff",this.scaleX=1,this.scaleY=1}Object.defineProperty(e,"__esModule",{value:!0}),i.prototype.fill=function(t){t.save(),t.translate(this.x,this.y),t.rotate(this.rotation),t.scale(this.scaleX,this.scaleY),t.fillStyle=this.color,t.beginPath(),t.rect(0,0,this.w,this.h),t.closePath(),t.fill(),t.restore()},e.default=i},1522:function(t,e,n){"use strict";function i(t){return(0,r.postData)("/api/login",t)}Object.defineProperty(e,"__esModule",{value:!0}),e.postLogin=i;var r=n(1482)},1523:function(t,e,n){e=t.exports=n(1474)(!1),e.push([t.i,'.vk-login-cont {\n  /*background-image: url("../../../resource/login_bg.jpg");*/\n  background-repeat: no-repeat;\n  background-size: 100% 100%;\n  position: relative; }\n\n.vk-btns-cont button {\n  display: inline-block;\n  width: 100%; }\n\n#lgForm > div {\n  margin-bottom: 10px; }\n\n#canvas {\n  position: absolute;\n  left: 0;\n  top: 0; }\n',""])},1525:function(t,e,n){var i=n(1523);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0};r.transform=void 0;n(1475)(i,r);i.locals&&(t.exports=i.locals)}});